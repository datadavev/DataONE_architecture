<project name = "BuildDoc" default = "main" basedir = ".">
	<target name = "clean" description = "Delete generated files">
		<delete>
			<!-- Clean sequence diagrams. -->
			<fileset dir = "images"/>
			<!-- Clean PlantUML files. -->	
			<fileset dir = "PlantUML"/>
		</delete>
	</target>

	<target name = "interactions" description = "Generate PlantUML files from interaction files">
		<exec dir = "${basedir}" executable = "./interaction2plant.py"/>
	</target>

	<taskdef name = "plantuml" classname = "net.sourceforge.plantuml.ant.PlantuTask" classpath = "plantuml.jar"/>

  <target name = "main" depends = "interactions" description = "Generate sequence diagrams">
    <plantuml dir = "./PlantUML" output = "${basedir}/images"/>
  </target>
</project>
