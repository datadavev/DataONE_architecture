Use Case 16 - Log CRUD Operations
---------------------------------

Author
  VDC TWG

Date
  - 20091126 [PEA] Make consistent with V0.3 APIs documentation.
  - 20090925 Adding to use case description and documentation
  - 20090114 (TWG meeting). Subsequent various modifications.

Version 
  0.3

Goal
 All CRUD operations on metadata and data are logged at each node.

Summary 

  Logging is important for monitoring performance and stability of the system
  as well as for ensuring appropriate attribution is given to contributors of
  content. This use case describes the action of logging a user request for
  content.
  
  Member Nodes must support this use case for V0.3, though there isn't a specific externally accessible MN API method that must be implemented to do that. This use case supports the reporting of log information as required by Use Case 17.

Actors

  - User

  - Member Node

Preconditions 

  - User has authenticated, and is authorized for requested operation

Triggers

  - V0.3 - User requests an object, i.e., ``MN_crud.get()``
  - after V0.3 - User requests, modifies, or creates an object


Post Conditions

  - The operation is recorded in the log for the node.


.. figure:: images/16_interaction.png
   :width: 100%

   Interactions for use case 16.


..
  @startuml images/16_interaction.png
  !include ../plantuml.conf

  actor User
  participant "Client" as app_client << Application >>
  User -> app_client
  participant "CRUD API" as m_crud << Member Node >>
  app_client -> m_crud: get (token, GUID)
  note right
  See Use Case 1, Use Case 4
  end note
  m_crud -> m_crud: log (typeOfOperation, targetGUID, requestorIdentity, dateOfRequest, ...)
  m_crud --> app_client: ack
  @enduml


.. raw:: latex

   \newpage
