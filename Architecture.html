<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>DataONE Architecture</title>
<meta name="date" content="20090925" />
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 5196 2007-06-03 20:25:28Z wiemann $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="dataone-architecture">
<h1 class="title">DataONE Architecture</h1>
<h2 class="subtitle" id="dataone-use-cases-and-apis">DataONE Use Cases and APIs</h2>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Date:</th>
<td>20090925</td></tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#use-cases-overview" id="id37">Use Cases Overview</a><ul>
<li><a class="reference internal" href="#use-case-layout" id="id38">Use Case Layout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-implementation-priority" id="id39">Use Case Implementation Priority</a></li>
<li><a class="reference internal" href="#use-cases" id="id40">Use Cases</a><ul>
<li><a class="reference internal" href="#use-case-1-crud-read" id="id41">Use Case 1 - CRUD Read()</a><ul>
<li><a class="reference internal" href="#notes" id="id42">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-02-get" id="id43">Use Case 02 - Get</a><ul>
<li><a class="reference internal" href="#id1" id="id44">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-03-register-mn" id="id45">Use Case 03 - Register MN</a><ul>
<li><a class="reference internal" href="#id2" id="id46">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-04-crud-create-update-delete" id="id47">Use Case 04 - CRUD (Create, Update Delete)</a><ul>
<li><a class="reference internal" href="#id3" id="id48">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-05-crud-create-update-delete" id="id49">Use Case 05 - CRUD (Create, Update Delete)</a><ul>
<li><a class="reference internal" href="#id4" id="id50">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-06-mn-synchronize" id="id51">Use Case 06 - MN Synchronize</a><ul>
<li><a class="reference internal" href="#id5" id="id52">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-07-cn-batch-upload" id="id53">Use Case 07 - CN Batch Upload</a><ul>
<li><a class="reference internal" href="#id6" id="id54">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-08-replication-policy-communication" id="id55">Use Case 08 - Replication Policy Communication</a><ul>
<li><a class="reference internal" href="#id7" id="id56">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-09-replicate-mn-to-mn" id="id57">Use Case 09 - Replicate MN to MN</a><ul>
<li><a class="reference internal" href="#id8" id="id58">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-10-mn-status-reports" id="id59">Use Case 10 - MN Status Reports</a><ul>
<li><a class="reference internal" href="#id9" id="id60">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-11-crud-workflow-objects" id="id61">Use Case 11 - CRUD Workflow Objects</a><ul>
<li><a class="reference internal" href="#id10" id="id62">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-12-user-authentication" id="id63">Use Case 12 - User Authentication</a><ul>
<li><a class="reference internal" href="#id11" id="id64">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-13-user-authorization" id="id65">Use Case 13 - User Authorization</a><ul>
<li><a class="reference internal" href="#id12" id="id66">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-14-system-authentication-and-authorization" id="id67">Use Case 14 - System Authentication and Authorization</a><ul>
<li><a class="reference internal" href="#id13" id="id68">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-15-account-management" id="id69">Use Case 15 - Account Management</a><ul>
<li><a class="reference internal" href="#id14" id="id70">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-16-log-crud-operations" id="id71">Use Case 16 - Log CRUD Operations</a><ul>
<li><a class="reference internal" href="#id15" id="id72">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-17-crud-logs-aggregated-at-cns" id="id73">Use Case 17 - CRUD Logs Aggregated at CNs</a><ul>
<li><a class="reference internal" href="#id16" id="id74">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-18-mn-retrieve-aggregated-logs" id="id75">Use Case 18 - MN Retrieve Aggregated Logs</a><ul>
<li><a class="reference internal" href="#id17" id="id76">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-19-retrieve-object-download-summary" id="id77">Use Case 19 - Retrieve Object Download Summary</a><ul>
<li><a class="reference internal" href="#id18" id="id78">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-20-owner-retrieve-aggregate-logs" id="id79">Use Case 20 - Owner Retrieve Aggregate Logs</a><ul>
<li><a class="reference internal" href="#id19" id="id80">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-21-owner-subscribe-to-crud-operations" id="id81">Use Case 21 - Owner Subscribe to CRUD Operations</a><ul>
<li><a class="reference internal" href="#id20" id="id82">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-22-link-citation-report-for-owner" id="id83">Use Case 22 - Link/Citation Report for Owner</a><ul>
<li><a class="reference internal" href="#id21" id="id84">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-23-owner-expunge-content" id="id85">Use Case 23 - Owner Expunge Content</a><ul>
<li><a class="reference internal" href="#id22" id="id86">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-24-mns-and-cns-support-transactions" id="id87">Use Case 24 - MNs and CNs Support Transactions</a><ul>
<li><a class="reference internal" href="#id23" id="id88">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-25-detect-damaged-content" id="id89">Use Case 25 - Detect Damaged Content</a><ul>
<li><a class="reference internal" href="#id24" id="id90">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-26-data-quality-checks" id="id91">Use Case 26 - Data Quality Checks</a><ul>
<li><a class="reference internal" href="#id25" id="id92">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-27-metadata-version-migration" id="id93">Use Case 27 - Metadata Version Migration</a><ul>
<li><a class="reference internal" href="#id26" id="id94">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-28-derived-product-original-change-notification" id="id95">Use Case 28 - Derived Product Original Change Notification</a><ul>
<li><a class="reference internal" href="#id27" id="id96">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-29-cn-load-balancing" id="id97">Use Case 29 - CN Load Balancing</a><ul>
<li><a class="reference internal" href="#id28" id="id98">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-30-mn-outage-notification" id="id99">Use Case 30 - MN Outage Notification</a><ul>
<li><a class="reference internal" href="#id29" id="id100">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-31-manage-access-policies" id="id101">Use Case 31 - Manage Access Policies</a><ul>
<li><a class="reference internal" href="#id30" id="id102">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-32-transfer-object-ownership" id="id103">Use Case 32 - Transfer Object Ownership</a><ul>
<li><a class="reference internal" href="#id31" id="id104">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-33-search-for-data" id="id105">Use Case 33 - Search for Data</a><ul>
<li><a class="reference internal" href="#id32" id="id106">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-case-34-cns-support-other-discovery-mechanisms-e-g-google" id="id107">Use Case 34 - CNs Support Other Discovery Mechanisms (e.g. Google)</a><ul>
<li><a class="reference internal" href="#id33" id="id108">Notes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#dataone-application-programming-interfaces" id="id109">DataONE Application Programming Interfaces</a><ul>
<li><a class="reference internal" href="#member-node-apis" id="id110">Member Node APIs</a><ul>
<li><a class="reference internal" href="#authorization-api" id="id111">Authorization API</a></li>
<li><a class="reference internal" href="#crud-api" id="id112">CRUD API</a></li>
<li><a class="reference internal" href="#replication-api" id="id113">Replication API</a></li>
<li><a class="reference internal" href="#server-authentication-api" id="id114">Server Authentication API</a></li>
<li><a class="reference internal" href="#capabilities-api" id="id115">Capabilities API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#coordinating-node-apis" id="id116">Coordinating Node APIs</a><ul>
<li><a class="reference internal" href="#authentication-api" id="id117">Authentication API</a></li>
<li><a class="reference internal" href="#verify-api" id="id118">Verify API</a></li>
<li><a class="reference internal" href="#query-api" id="id119">Query API</a></li>
<li><a class="reference internal" href="#id34" id="id120">CRUD API</a></li>
<li><a class="reference internal" href="#id35" id="id121">Replication API</a></li>
<li><a class="reference internal" href="#synchronization-api" id="id122">Synchronization API</a></li>
<li><a class="reference internal" href="#register-api" id="id123">Register API</a></li>
<li><a class="reference internal" href="#id36" id="id124">Server Authentication API</a></li>
<li><a class="reference internal" href="#state-of-health-api" id="id125">State of Health API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="use-cases-overview">
<h1><a class="toc-backref" href="#id37">Use Cases Overview</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Date:</th><td class="field-body">20090924</td>
</tr>
</tbody>
</table>
<p>An important early part in the process of system architecture is identifying
the functional requirements that the resulting system should be able to
address. Use cases are helpful for this as they describe how actors (typically
entities external to the system) interact with system components. Interaction
diagrams help define the interfaces and messages transmitted between
components.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">TODO: Architecture overview diagram
TODO: Component diagram
TODO: Broad categories of use cases</p>
</div>
<div class="section" id="use-case-layout">
<h2><a class="toc-backref" href="#id38">Use Case Layout</a></h2>
<p>Each use case document is structured following a common template which
includes the following elements.</p>
<dl class="docutils">
<dt>Author</dt>
<dd>Who generated the use case.  This will usually be &quot;VDC TWG&quot;.</dd>
<dt>Date</dt>
<dd>Date the use case was identified and known subsequent modifications.</dd>
<dt>Version</dt>
<dd>One of &quot;Draft&quot;, &quot;Review&quot;, &quot;Published&quot;</dd>
<dt>Goal</dt>
<dd>Brief description of what is intended with the use case.</dd>
<dt>Summary</dt>
<dd>An overview of the use case which includes the goal and major actors.</dd>
<dt>Use case diagram</dt>
<dd>A diagram representation of the use case, somewhat following the UML.</dd>
<dt>Sequence diagram</dt>
<dd>A sequence diagram that shows the operations involved in addressing the use
case.</dd>
<dt>Actors</dt>
<dd>The participants in the use case - includes people and systems.</dd>
<dt>Preconditions</dt>
<dd>The conditions that must exist for the use case. For example, a particular
use case may only be valid if the use has been authenticated.</dd>
<dt>Triggers</dt>
<dd>Describes the even that causes the use case to be initiated.</dd>
<dt>Postconditions</dt>
<dd>The state of the system after the use case - what conditions are true after
the use case is completed.</dd>
<dt>Notes</dt>
<dd>Miscellaneous notes and discussion items that can't be placed in the various
categories.  Comments should be annotated with time and author.</dd>
</dl>
</div>
</div>
<div class="section" id="use-case-implementation-priority">
<h1><a class="toc-backref" href="#id39">Use Case Implementation Priority</a></h1>
<p>Prioritizing system implementation to address the use cases involves several
factors including:</p>
<ul class="simple">
<li>Vision of the project. The system is being designed with some overall goals
described by the vision of the project proposal.</li>
<li>Requirements of the community. The stakeholders that comprise the user and
participant community quite likely has some opinion on functionalities of
the system that are important to them. If these are not properly addressed,
then the resulting system may appear as a failure to them.</li>
<li>Requirements of the sponsor. The sponsor has laid out goals in the RFP that
the project is responding to and also in the final agreement for conducting the work.</li>
<li>Dependencies between use cases. Implementation of functionality to address
some use cases will require implementation of some components not directly
specific in a use case.</li>
<li>Resources available for implementation. Some use cases may be identified as
high priority, but would require resources that would prevent implementation
of a number of other lower priority features.</li>
</ul>
</div>
<div class="section" id="use-cases">
<h1><a class="toc-backref" href="#id40">Use Cases</a></h1>
<div class="section" id="use-case-1-crud-read">
<h2><a class="toc-backref" href="#id41">Use Case 1 - CRUD Read()</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090924 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Get object identified by GUID (authenticated or not, notify subscriber of access).</dd>
</dl>
<p>Summary</p>
<blockquote>
<p>A client has an identifier for some object within the DataONE system and is
retrieving the referenced object. The DataONE system must resolve the
identifier and return the object bytes after checking that the user has read
privileges on the object.</p>
<p>Watchers (subscribers) of the object are notified of the retrieval (what are
they notified of?).</p>
</blockquote>
<img alt="UseCases/images/01_-_Get_object_for_GUID_(anonymous_and_authenticated).png" src="UseCases/images/01_-_Get_object_for_GUID_(anonymous_and_authenticated).png" />
<dl class="docutils">
<dt>Actors</dt>
<dd><ul class="first last simple">
<li>Client requesting object</li>
<li>Coordinating Node</li>
<li>Member Node</li>
</ul>
</dd>
<dt>Preconditions</dt>
<dd><ul class="first last simple">
<li>Client has authenticated to at the desired level (e.g. client
may not have authenticated, so access might be anonymous).</li>
</ul>
</dd>
<dt>Triggers</dt>
<dd><ul class="first last simple">
<li>Watchers are notified of the retrieval</li>
<li>Operation is logged (are loggers a type of watcher?)</li>
</ul>
</dd>
<dt>Post Conditions</dt>
<dd><ul class="first last simple">
<li>The client has a copy of the object bytes (or an error message in the case
of failure)</li>
<li>The log is updated with the results of the operation</li>
<li>Watchers perform their processing</li>
</ul>
</dd>
</dl>
<div class="section" id="notes">
<h3><a class="toc-backref" href="#id42">Notes</a></h3>
<ul class="simple">
<li>for the GET operation, the coordinating node does not need to check access,
because the member node will do this check before delivering the results.</li>
<li>Data sent to watchers might include: timestamp, object identifier, user id,
IP of client,</li>
</ul>
</div>
</div>
<div class="section" id="use-case-02-get">
<h2><a class="toc-backref" href="#id43">Use Case 02 - Get</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Get list of GUIDs from metadata search (anon and authenticated).</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/02_-_Client_query_to_get_list_of_GUIDs_from....png" src="UseCases/images/02_-_Client_query_to_get_list_of_GUIDs_from....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id44">Notes</a></h3>
<ul class="simple">
<li>Two #2's on diagram. One to Authentication API and one to query API.</li>
<li>lots of stuff buried in query. What information/interface is needed for
resolution/expansion of the query? For example a particular user may be
identified with a particular community which uses a particular ontology.
Where are things like ontologies maintained and where are the interfaces
between these and searches maintained? Searches need to be able to respond
to the dynamic nature of domain ontologies. Does the ontology need to have
authorization tied to it? A use case would be an ontology which is under
development and not ready for general distribution. Another case might be
where the ontology contains representations of human subject information,
meaning that &quot;cancer survivors&quot; includes this list of people. Or where the
ontology provides geospatial information about restricted information
(locations of USFS FIA plots). Similar issues apply to T&amp;E species
information.</li>
<li>Group structure representation: A user is a member of zero to many groups,
authorization may be carried with that group membership. This is down in the
verify API, which needs to take into account group membership and group
permission inheritance. Question: What is the resolution for conflicting
access permissions?</li>
<li>Can a query be done at a member node? The diagram implies that the query is
only done at a coordinating node. A member node may have a subset (or the
full set) of metadata and the user may wish to do the search only at a
member node, knowing that the subset is restricted to data relevant to a
community of practice.</li>
<li>Where is the filtering done for the results, in terms of when does the
result set get filtered to those which the user can see. Does the model
allow the query service to do two searches and union the results? The first
query might be against the set of records known to be publicly readable,
with a follow-on query against the set of records known to have restricted
access. Is this envisioning the query service generating a set of results
(against the restricted records) and passing that list to the authorization
API, or is this envisioning a one by one situation. Or does the
authorization API pass back to the query service the list of records that
the user is authorized to see, and that gets anded with the result set.</li>
<li>How distributed is the database of users and their authorization records?
Does the coordinating node have to know all authorization records, with that
being replicated? Or is some amount of the authorization maintained by (for
example) the &quot;owning&quot; member node and the search system may need to contact
multiple authorization authorities for the records in a particular result
set? It also implies that if the authorization information is at the
coordinating node, that the authorization authority needs a means to
validate the replicated authorization information to ensure that the info at
the cn is up-to-date.</li>
<li>Why does step 4 need to validate the token, given that the token was
generated in step 2? Answer is that this is normal security validation of
all user inputs once those have gone out of the control of the issuing
service. Also applies to cases where tokens have a specific lifetime, and
the token may be valid, but expired. Authorization token lifetimes are
important for both interactive sessions and for cases like workflows, where
the session may run for days.</li>
</ul>
</div>
</div>
<div class="section" id="use-case-03-register-mn">
<h2><a class="toc-backref" href="#id45">Use Case 03 - Register MN</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Register a new Member Node.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/03_-_Register_a_new_Member_Node.png" src="UseCases/images/03_-_Register_a_new_Member_Node.png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id46">Notes</a></h3>
<ul class="simple">
<li>Specify default replication policies</li>
<li>Also check for version updates</li>
<li>Should new nodes be registered with specified trust levels?</li>
<li>Data providers that use acceptable services can still be discovered and
accessed without registering in the DataONE registry ( Conflicting, as
someone has to register it)</li>
<li>Allow service providers to register their services, (such as data extraction
services) (ala GEOSS), but include mapping to higher semantic model</li>
<li>For well known services, registration system must be able to describe
constraints (e.g., allowable inputs, outputs, algorithms that can be
specified)</li>
<li>Services can be parameterized</li>
<li>Member node should be able to request the coordinating node to re-validate
its capabilities list.</li>
<li>Are there different levels of trust for member nodes?</li>
</ul>
</div>
</div>
<div class="section" id="use-case-04-crud-create-update-delete">
<h2><a class="toc-backref" href="#id47">Use Case 04 - CRUD (Create, Update Delete)</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Create, update or delete metadata record on a Member Node.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/04,_05_-_Create,_update,_delete,_search_metadata,....png" src="UseCases/images/04,_05_-_Create,_update,_delete,_search_metadata,....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id48">Notes</a></h3>
<ul class="simple">
<li>Are IDs are pegged to versions? If so, update might differ more radically
from create.</li>
<li>If delete is a metadata operation only, then will be very similar to update.
But if it is a physical operation, it becomes more complex. Will there be an
archival copy? Will member nodes that hold replicas be &quot;forced&quot; to destroy
the replicas?</li>
<li>Is submit from a member node a push or pull?</li>
<li>Should queuing of a submission within a member node be required for success?
(We assume yes, to guarantee replication of submissions).</li>
</ul>
</div>
</div>
<div class="section" id="use-case-05-crud-create-update-delete">
<h2><a class="toc-backref" href="#id49">Use Case 05 - CRUD (Create, Update Delete)</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Create/Update/Delete data object in Member Node.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/04,_05_-_Create,_update,_delete,_search_metadata,....png" src="UseCases/images/04,_05_-_Create,_update,_delete,_search_metadata,....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id50">Notes</a></h3>
<ul class="simple">
<li>See all questions above (Use Case #4) for metadata operations.</li>
<li>client should be able ask CN for a list of acceptable MNs to upload data
with specific characteristics (e.g., size, institution, theme)</li>
</ul>
</div>
</div>
<div class="section" id="use-case-06-mn-synchronize">
<h2><a class="toc-backref" href="#id51">Use Case 06 - MN Synchronize</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Replicate / synchronize metadata record between Member Node and Coordinating Node.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/06_-_Synchronize_Metadata_between_Member....png" src="UseCases/images/06_-_Synchronize_Metadata_between_Member....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id52">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-07-cn-batch-upload">
<h2><a class="toc-backref" href="#id53">Use Case 07 - CN Batch Upload</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Batch Operations - Coordinating Node requests metadata /data list from new Member Node and then batch upload (disable indexing for example to improve insert performance).</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/07_-_Coordinating_Node_requests_metadata,....png" src="UseCases/images/07_-_Coordinating_Node_requests_metadata,....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id54">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-08-replication-policy-communication">
<h2><a class="toc-backref" href="#id55">Use Case 08 - Replication Policy Communication</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Communication of replication policy metadata among Member Nodes and Coordinating Nodes.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/08_-_Communication_of_Replication_Policy....png" src="UseCases/images/08_-_Communication_of_Replication_Policy....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id56">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-09-replicate-mn-to-mn">
<h2><a class="toc-backref" href="#id57">Use Case 09 - Replicate MN to MN</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Replicate data from Member Node to Member Node - (facilitated by Coordinating
Node or independently but notifying Coordinating Node of operation).</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/09_-_Replicate_data_from_Member_Node_to_Member....png" src="UseCases/images/09_-_Replicate_data_from_Member_Node_to_Member....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id58">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-10-mn-status-reports">
<h2><a class="toc-backref" href="#id59">Use Case 10 - MN Status Reports</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Coordinating Node checks &quot;liveness&quot; of all Member Nodes - checks ping,
service x, load, space, bandwidth, transaction rate, ...</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/10_-_Coordinating_Node_checks_liveness_of....png" src="UseCases/images/10_-_Coordinating_Node_checks_liveness_of....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id60">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-11-crud-workflow-objects">
<h2><a class="toc-backref" href="#id61">Use Case 11 - CRUD Workflow Objects</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Create / update / delete / search workflow objects.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/11_-_Create,_update,_delete,_search_workflow....png" src="UseCases/images/11_-_Create,_update,_delete,_search_workflow....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id62">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-12-user-authentication">
<h2><a class="toc-backref" href="#id63">Use Case 12 - User Authentication</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>User Authentication - Person via client software authenticates against
Identify Provider to establish session token.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/12_-_Person_authenticates_against_Identity....png" src="UseCases/images/12_-_Person_authenticates_against_Identity....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id64">Notes</a></h3>
<ul class="simple">
<li>To be a bit more abstract, it might be good to use something like
login(user, credentials) or login(subject) for the method signature. Here
&quot;subject&quot; would be similar to the <a class="reference external" href="http://java.sun.com/javase/6/docs/api/javax/security/auth/Subject.html">javax.security.auth.Subject</a>
concept. (PEA)</li>
<li>Can logins also happening against a MN, which simply proxies the request up
to the CN? (PEA)</li>
</ul>
</div>
</div>
<div class="section" id="use-case-13-user-authorization">
<h2><a class="toc-backref" href="#id65">Use Case 13 - User Authorization</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>User Authorization - Client requests service (get, put, query, delete, ...)
using session token.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/13_-_Client_requests_service_(get,_put,_query,....png" src="UseCases/images/13_-_Client_requests_service_(get,_put,_query,....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id66">Notes</a></h3>
<ul class="simple">
<li>It would be great to factor out the authentication steps (#1, 2) from the
diagram and replace it with some sort of precondition like &quot;Client has
authentication token.&quot; (PEA)</li>
</ul>
</div>
</div>
<div class="section" id="use-case-14-system-authentication-and-authorization">
<h2><a class="toc-backref" href="#id67">Use Case 14 - System Authentication and Authorization</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>System Authentication/Authorization - Server authenticates and performs
system operations (e.g. replication).</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/14_-_Server_authenticates_and_performs_system....png" src="UseCases/images/14_-_Server_authenticates_and_performs_system....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id68">Notes</a></h3>
<ul class="simple">
<li>I don't understand Step #7. To me the serviceRequest in step #3 is the
actual request for MN-B to do a &quot;system operation&quot;, which kicks off the
verification steps #4 and #5. If this example service request is
replication, then step #3 should point to the replication API, and
internally MN-B decides that it must perform the verify step #4. Then step
#6 is the response to the system operation, and step #7 is not needed. (I
think that this diagram must be showing a kind of pre-approval process for
the operation in step #7, but it doesn't make sense to me because in step
#7, MN-B will just have to re-verify the token again.) (PEA)</li>
</ul>
</div>
</div>
<div class="section" id="use-case-15-account-management">
<h2><a class="toc-backref" href="#id69">Use Case 15 - Account Management</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>User Account Management - Create new user account on Identity Provider (also
edit, delete, ...).</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/15_-_Create_new_user_account_on_Identity....png" src="UseCases/images/15_-_Create_new_user_account_on_Identity....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id14">
<h3><a class="toc-backref" href="#id70">Notes</a></h3>
<ul class="simple">
<li>This diagram should include a step for email confirmation.</li>
<li>By default, accounts have no real privileges. To get higher privileges,
users may have to jump through more hoops (such as verifying their
association with a project/institution)</li>
<li>Presumably, if we are using external identity providers this user account
management functionality isn't provided by the CN. Right? (PEA)</li>
</ul>
</div>
</div>
<div class="section" id="use-case-16-log-crud-operations">
<h2><a class="toc-backref" href="#id71">Use Case 16 - Log CRUD Operations</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>All CRUD operations on metadata and data are logged at each node.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/16_-_All_CRUD_operations_on_metadata_and....png" src="UseCases/images/16_-_All_CRUD_operations_on_metadata_and....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id15">
<h3><a class="toc-backref" href="#id72">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-17-crud-logs-aggregated-at-cns">
<h2><a class="toc-backref" href="#id73">Use Case 17 - CRUD Logs Aggregated at CNs</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>All CRUD logs are aggregated at coordinating nodes.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/17_-_All_CRUD_logs_are_aggregated_at_Coordinating....png" src="UseCases/images/17_-_All_CRUD_logs_are_aggregated_at_Coordinating....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id16">
<h3><a class="toc-backref" href="#id74">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-18-mn-retrieve-aggregated-logs">
<h2><a class="toc-backref" href="#id75">Use Case 18 - MN Retrieve Aggregated Logs</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Member nodes can request aggregated CRUD log for {time period/object
id/userid} for all of 'their' objects.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/18_-_Member_Nodes_can_request_aggregated....png" src="UseCases/images/18_-_Member_Nodes_can_request_aggregated....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id17">
<h3><a class="toc-backref" href="#id76">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-19-retrieve-object-download-summary">
<h2><a class="toc-backref" href="#id77">Use Case 19 - Retrieve Object Download Summary</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>General public can request aggregated download usage information by object
id.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/19_-_General_public_can_request_aggregated....png" src="UseCases/images/19_-_General_public_can_request_aggregated....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id18">
<h3><a class="toc-backref" href="#id78">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-20-owner-retrieve-aggregate-logs">
<h2><a class="toc-backref" href="#id79">Use Case 20 - Owner Retrieve Aggregate Logs</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Data owners can request aggregated CRUD log for {time period/object id} for
all of 'their' objects.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/20_-_Data_owners_can_request_aggregated_CRUD....png" src="UseCases/images/20_-_Data_owners_can_request_aggregated_CRUD....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id19">
<h3><a class="toc-backref" href="#id80">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-21-owner-subscribe-to-crud-operations">
<h2><a class="toc-backref" href="#id81">Use Case 21 - Owner Subscribe to CRUD Operations</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Data owners can subscribe to notification service for CRUD operations for objects they own.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/21_-_Data_owners_can_subscribe_to_notification....png" src="UseCases/images/21_-_Data_owners_can_subscribe_to_notification....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id20">
<h3><a class="toc-backref" href="#id82">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-22-link-citation-report-for-owner">
<h2><a class="toc-backref" href="#id83">Use Case 22 - Link/Citation Report for Owner</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>User can get report of links/cites my data (also can view this as a referrer
log).</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/22_-_User_can_get_report_of_links,_cites....png" src="UseCases/images/22_-_User_can_get_report_of_links,_cites....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id21">
<h3><a class="toc-backref" href="#id84">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-23-owner-expunge-content">
<h2><a class="toc-backref" href="#id85">Use Case 23 - Owner Expunge Content</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>User can find out where all copies of my data are in the system and can
expunge them.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/23_-_User_can_find_out_where_all_copies_of....png" src="UseCases/images/23_-_User_can_find_out_where_all_copies_of....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id22">
<h3><a class="toc-backref" href="#id86">Notes</a></h3>
<ul class="simple">
<li>Dealing with inappropriate usage of (ie, copyrighted objects that are
stored)</li>
</ul>
</div>
</div>
<div class="section" id="use-case-24-mns-and-cns-support-transactions">
<h2><a class="toc-backref" href="#id87">Use Case 24 - MNs and CNs Support Transactions</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Transactions - CNs and MNs should support transaction sets where operations
all complete successfully or get rolled back (e.g., upload both data and
metadata records).</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/24_-_CNs_and_MNs_should_support_transaction....png" src="UseCases/images/24_-_CNs_and_MNs_should_support_transaction....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id23">
<h3><a class="toc-backref" href="#id88">Notes</a></h3>
<ul class="simple">
<li>Does this include just one service, or sets of services that can be included
in a transaction?</li>
<li>Can transactions span multiple MNs? MNs and CNs?</li>
</ul>
</div>
</div>
<div class="section" id="use-case-25-detect-damaged-content">
<h2><a class="toc-backref" href="#id89">Use Case 25 - Detect Damaged Content</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>System should scans for damaged/defaced data and metadata using some
validation process.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/25_-_System_validates_metadata_and_data.png" src="UseCases/images/25_-_System_validates_metadata_and_data.png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id24">
<h3><a class="toc-backref" href="#id90">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-26-data-quality-checks">
<h2><a class="toc-backref" href="#id91">Use Case 26 - Data Quality Checks</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>System performs data quality checks on data.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/26_-_System_performs_quality_checks_on_data.png" src="UseCases/images/26_-_System_performs_quality_checks_on_data.png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id25">
<h3><a class="toc-backref" href="#id92">Notes</a></h3>
<ul class="simple">
<li>Is this more for verifying the quality of metadata? Otherwise how does it
differ from #25?</li>
</ul>
</div>
</div>
<div class="section" id="use-case-27-metadata-version-migration">
<h2><a class="toc-backref" href="#id93">Use Case 27 - Metadata Version Migration</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>CN should support forward migration of metadata documents from one version
to another within a standard and to other standards.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/27_-_Migration_--_CN_should_support_forward....png" src="UseCases/images/27_-_Migration_--_CN_should_support_forward....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id26">
<h3><a class="toc-backref" href="#id94">Notes</a></h3>
<ul class="simple">
<li>Should this apply to data as well?</li>
</ul>
</div>
</div>
<div class="section" id="use-case-28-derived-product-original-change-notification">
<h2><a class="toc-backref" href="#id95">Use Case 28 - Derived Product Original Change Notification</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Relationships/Versioning - Derived products should be linked to source
objects so that notifications can be made to users of derived products when
source products change.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/28_-_Versioning_--_Derived_products_should....png" src="UseCases/images/28_-_Versioning_--_Derived_products_should....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id27">
<h3><a class="toc-backref" href="#id96">Notes</a></h3>
<ul class="simple">
<li>Who can assert these relationships? The relevant object owners? Anybody?</li>
<li>How are relationships removed?</li>
</ul>
</div>
</div>
<div class="section" id="use-case-29-cn-load-balancing">
<h2><a class="toc-backref" href="#id97">Use Case 29 - CN Load Balancing</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Load Balancing - Requests to coordinating nodes are load balanced.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/29_-_Load_balancing_between_Coordinating....png" src="UseCases/images/29_-_Load_balancing_between_Coordinating....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id28">
<h3><a class="toc-backref" href="#id98">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-30-mn-outage-notification">
<h2><a class="toc-backref" href="#id99">Use Case 30 - MN Outage Notification</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>MN can notify CN about pending outages, severity, and duration, and CNs may
want to act on that knowledge to maintain seamless operation.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/30_-_MN_can_notify_CN_about_pending_outages,....png" src="UseCases/images/30_-_MN_can_notify_CN_about_pending_outages,....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id29">
<h3><a class="toc-backref" href="#id100">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-31-manage-access-policies">
<h2><a class="toc-backref" href="#id101">Use Case 31 - Manage Access Policies</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Manage Access Policies - Client can specify access restrictions for their
data and metadata objects. Also supports release time embargoes.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/31_-_Client_can_specify_access_and_replication....png" src="UseCases/images/31_-_Client_can_specify_access_and_replication....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id30">
<h3><a class="toc-backref" href="#id102">Notes</a></h3>
<ul class="simple">
<li>Users can be members of groups that can participate in access directives.</li>
<li>I have removed the phrase &quot;and replication&quot; from the use case statement
because use case #8 deals with setting replication policies. (PEA)</li>
<li>Step #1, should have a signature of setAccess(token, GUID, accessPolicy).
Even though the diagram says &quot;Assume user authority for specifying
restrictions&quot;, practically speaking we will need to verify that authority
and the user's identify with a token. Also &quot;accessLevel&quot; sounds very
limited, and access policy implies a possibly more sophisticated access
policy delineation, including embargoes.</li>
</ul>
</div>
</div>
<div class="section" id="use-case-32-transfer-object-ownership">
<h2><a class="toc-backref" href="#id103">Use Case 32 - Transfer Object Ownership</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>User or organization takes over 'ownership' of a set of objects (write
access for orphaned records)</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/32_-_User_or_organization_takes_over_'ownership'....png" src="UseCases/images/32_-_User_or_organization_takes_over_'ownership'....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id31">
<h3><a class="toc-backref" href="#id104">Notes</a></h3>
<ul class="simple">
<li>Is there an authority for any given data/metadata object?</li>
</ul>
</div>
</div>
<div class="section" id="use-case-33-search-for-data">
<h2><a class="toc-backref" href="#id105">Use Case 33 - Search for Data</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Clients should be able to search for data using CN metadata catalogs.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/33_-_Discovery;_Clients_should_be_able_to....png" src="UseCases/images/33_-_Discovery;_Clients_should_be_able_to....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id32">
<h3><a class="toc-backref" href="#id106">Notes</a></h3>
<p>xxx</p>
</div>
</div>
<div class="section" id="use-case-34-cns-support-other-discovery-mechanisms-e-g-google">
<h2><a class="toc-backref" href="#id107">Use Case 34 - CNs Support Other Discovery Mechanisms (e.g. Google)</a></h2>
<dl class="docutils">
<dt>Author</dt>
<dd>VDC TWG</dd>
<dt>Date</dt>
<dd><ul class="first last simple">
<li>20090925 Adding to use case description and documentation</li>
<li>20090114 (TWG meeting).  Subsequent various modifications.</li>
</ul>
</dd>
<dt>Version</dt>
<dd>Draft</dd>
<dt>Goal</dt>
<dd>Coordinating Nodes publish metadata in formats for other discovery services
like Google/Libraries/GCMD/etc.</dd>
</dl>
<p>Summary</p>
<blockquote>
xxx</blockquote>
<img alt="UseCases/images/34_-_Discovery;_Coordinating_Nodes_publish....png" src="UseCases/images/34_-_Discovery;_Coordinating_Nodes_publish....png" />
<dl class="docutils">
<dt>Actors</dt>
<dd>xxx</dd>
<dt>Preconditions</dt>
<dd>xxx</dd>
<dt>Triggers</dt>
<dd>xxx</dd>
<dt>Post Conditions</dt>
<dd>xxx</dd>
</dl>
<div class="section" id="id33">
<h3><a class="toc-backref" href="#id108">Notes</a></h3>
<p>xxx</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">TODO: include all the individual use case text documents.</p>
</div>
</div>
</div>
</div>
<div class="section" id="dataone-application-programming-interfaces">
<h1><a class="toc-backref" href="#id109">DataONE Application Programming Interfaces</a></h1>
<p>isAuthorized (sess, transID)
read (ID, sess, transID)</p>
<div class="section" id="member-node-apis">
<h2><a class="toc-backref" href="#id110">Member Node APIs</a></h2>
<div class="section" id="authorization-api">
<h3><a class="toc-backref" href="#id111">Authorization API</a></h3>
<pre class="literal-block">
login (user, pw)
isAuth (token, GUID)
</pre>
</div>
<div class="section" id="crud-api">
<h3><a class="toc-backref" href="#id112">CRUD API</a></h3>
<pre class="literal-block">
batchGet (objectsList)
checkDataQuality (GUID)
create (token, dataPackage)
create (token, workflowObject)
get (token, handle)
getChecksum (GUID)
getLogRecords (fromDate, toDate)
log (create, creationDate, ID)
register (memberToken, ID, metadata)
</pre>
</div>
<div class="section" id="replication-api">
<h3><a class="toc-backref" href="#id113">Replication API</a></h3>
<pre class="literal-block">
cancelReplication (sess, transID)
listAllObjects ()
listRecords ()
replicationSucceeds (transID)
startReplica (ID, sessionID, transID, srcMN)
sysOp (token)
</pre>
</div>
<div class="section" id="server-authentication-api">
<h3><a class="toc-backref" href="#id114">Server Authentication API</a></h3>
</div>
<div class="section" id="capabilities-api">
<h3><a class="toc-backref" href="#id115">Capabilities API</a></h3>
<pre class="literal-block">
serviceRequest (token)
verify (token)
getCapabilities ()
State of Health API
sohQuery (token, service)
</pre>
</div>
</div>
<div class="section" id="coordinating-node-apis">
<h2><a class="toc-backref" href="#id116">Coordinating Node APIs</a></h2>
<div class="section" id="authentication-api">
<h3><a class="toc-backref" href="#id117">Authentication API</a></h3>
<pre class="literal-block">
login (user, pw)
requestToken ()
newAccount (user, pw)
</pre>
</div>
<div class="section" id="verify-api">
<h3><a class="toc-backref" href="#id118">Verify API</a></h3>
<pre class="literal-block">
isValidToken (token)
Authorization API
isAuth (token, GUID)
isAuth (token, resultset)
isValidToken (token)
setAccess (GUID, accessLevel)
takeOwnership (objectList)
</pre>
</div>
<div class="section" id="query-api">
<h3><a class="toc-backref" href="#id119">Query API</a></h3>
<pre class="literal-block">
getAllCopies (token, ownerID)
getLinksAndCites (GUID, fromDate, toDate)
getLogRecords (GUID, fromDate, toDate)
getLogRecords (nodeID, fromDate, toDate)
query (token, query)
searchForData ()
usageQuery (token, GUID)
</pre>
</div>
<div class="section" id="id34">
<h3><a class="toc-backref" href="#id120">CRUD API</a></h3>
<pre class="literal-block">
assertRelation (token, IDofSubject, relationship, IDofObject)
batchWrite (objectsList)
deleteRecords (token, listOfGUIDs)
get (token, GUID)
register (memberToken, ID, metadata)
resolve (GUID, token)
storeRecords ()
write ()
</pre>
</div>
<div class="section" id="id35">
<h3><a class="toc-backref" href="#id121">Replication API</a></h3>
<pre class="literal-block">
getDefaultReplicationPolicy (sess)
getMNReplicateList ()
getReplicationPolicy (sess, ID)
isReplicationNeeded ()
replicateMetadata ()
setDefaultReplicationPolicy (sess, policy)
setReplicationPolicy (sess, policy, ID)
</pre>
</div>
<div class="section" id="synchronization-api">
<h3><a class="toc-backref" href="#id122">Synchronization API</a></h3>
<pre class="literal-block">
pollForNewIDs ()
synchronize ()
verifyAllRecordsReceived ()
</pre>
</div>
<div class="section" id="register-api">
<h3><a class="toc-backref" href="#id123">Register API</a></h3>
<pre class="literal-block">
addNodeCapabilities ()
register (token, capabilitiesURL)
registerForNotification (token, dataOwnerID)
scheduleSynch ()
verifyCapabilities ()
</pre>
</div>
<div class="section" id="id36">
<h3><a class="toc-backref" href="#id124">Server Authentication API</a></h3>
</div>
<div class="section" id="state-of-health-api">
<h3><a class="toc-backref" href="#id125">State of Health API</a></h3>
<pre class="literal-block">
actOnPendingEvent (event)
reportPendingEvent (event)
Admin Application
notify (adminID, nodeID, service)
</pre>
</div>
</div>
</div>
</div>
</body>
</html>
